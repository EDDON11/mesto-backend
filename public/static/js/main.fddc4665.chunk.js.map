{"version":3,"sources":["image/logo.svg","components/Header.js","contexts/CurrentUserContext.js.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","type","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","Footer","ImagePopup","onClose","api","config","this","_url","url","_headers","headers","fetch","method","then","res","ok","json","Promise","reject","status","data","body","JSON","stringify","authorization","PopupWithForm","title","button","isOpen","children","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useState","setName","job","setJob","useEffect","e","preventDefault","required","minLength","maxLength","id","placeholder","autoComplete","value","onChange","target","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","getUserInfo","userData","catch","err","console","log","getInitialCards","closeAllPopup","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","updateAvatar","setUserInfo","getCreateCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fddc4665.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from \"react\";\r\nimport logo from \"../image/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Логотип\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleCardLike() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  const cardDeleteButtonClassName = `element__delete-button ${\r\n    isOwn ? \"element__delete-button_visible\" : \"element__delete-button_hidden\"\r\n  }`;\r\n\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = `element__like ${\r\n    isLiked && \"element__like_active\"\r\n  }`;\r\n\r\n  return (\r\n    <div className=\"element\">\r\n      <button\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleCardDelete}\r\n        type=\"button\"\r\n      ></button>\r\n      <img\r\n        className=\"element__pic\"\r\n        src={card.link}\r\n        alt={card.name}\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"element__rectangle\">\r\n        <h2 className=\"element__title\">{card.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleCardLike}\r\n          ></button>\r\n          <p className=\"element__likos\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  cards,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-container\">\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={currentUser.avatar}\r\n            alt=\"Аватар\"\r\n          />\r\n          <button className=\"profile__avatar-button\" onClick={onEditAvatar} />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__info-name\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__edit-button\"\r\n              onClick={onEditProfile}\r\n            />\r\n          </div>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={onAddPlace}\r\n        />\r\n      </section>\r\n      <section className=\"elements\">\r\n        {cards.map((card) => (\r\n          <Card\r\n            onCardClick={onCardClick}\r\n            onCardLike={onCardLike}\r\n            onCardDelete={onCardDelete}\r\n            key={card._id}\r\n            card={card}\r\n            link={card.link}\r\n            name={card.name}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">©&nbsp;2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nconst ImagePopup = ({ card, onClose }) => {\r\n  return (\r\n    <div className={`popup popup_photo ${card && \"popup_open\"}`}>\r\n      <div className=\"popup__content popup__content_photo\">\r\n        <button\r\n          className=\"popup__close popup__close_photo\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <img\r\n          className=\"popup__full\"\r\n          src={card ? card.link : \"\"}\r\n          alt={card ? card.name : \"\"}\r\n        />\r\n        <h4 className=\"popup__title popup__title_photo\" type=\"reset\">\r\n          {card ? card.name : \"\"}\r\n        </h4>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImagePopup;\r\n","export default class Api {\r\n  constructor(config) {\r\n    this._url = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n  setUserInfo(data) {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n  getInitialCards() {\r\n    return fetch(`${this._url}cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n  getCreateCard(data) {\r\n    return fetch(`${this._url}cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n  changeLikeCardStatus(_id, isLiked) {\r\n    return fetch(`${this._url}cards/likes/${_id}`, {\r\n      method: isLiked ? \"PUT\" : \"DELETE\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        _id,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  deleteCard(_id) {\r\n    return fetch(`${this._url}cards/${_id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        _id,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n  updateAvatar(avatar) {\r\n    return fetch(`${this._url}users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(avatar),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-18/\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n    authorization: \"2828a81c-91b3-4dda-937b-4ff777409bb5\",\r\n  },\r\n});\r\n","import React from \"react\";\r\n\r\nconst PopupWithForm = ({\r\n  title,\r\n  name,\r\n  onClose,\r\n  button,\r\n  isOpen,\r\n  children,\r\n  onSubmit,\r\n}) => {\r\n  return (\r\n    <div className={`popup popup_${name} ${isOpen ? \"popup_open\" : \"\"}`}>\r\n      <div className=\"popup__content\">\r\n        <button\r\n          className=\"popup__close popup__close_add\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        />\r\n        <div className=\"popup__body\">\r\n          <h3 className=\"popup__title\">{title}</h3>\r\n          <form\r\n            className={`popup__form popup__form_${name}`}\r\n            method=\"post\"\r\n            name={name}\r\n            onSubmit={onSubmit}\r\n            noValidate\r\n          >\r\n            {children}\r\n            <button className=\"popup__save-button\" type=\"submit\">\r\n              {button}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [job, setJob] = React.useState(\"\");\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name || '');\r\n    setJob(currentUser.about || '');\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: job,\r\n    });\r\n  }\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangejob(e) {\r\n    setJob(e.target.value);\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name={\"edit\"}\r\n      title={\"Редактировать профиль\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      button=\"Сохранить\"\r\n    >\r\n      <input\r\n        required\r\n        minLength={2}\r\n        maxLength={40}\r\n        id=\"name-input\"\r\n        className=\"popup__input popup__input_type_heading\"\r\n        placeholder=\"Имя\"\r\n        type=\"text\"\r\n        name=\"edit\"\r\n        autoComplete=\"off\"\r\n        value={name}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span id=\"name-input-error\" className=\"popup__error\" />\r\n      <input\r\n        required\r\n        minLength={2}\r\n        maxLength={200}\r\n        id=\"about-input\"\r\n        className=\"popup__input popup__input_type_subheading\"\r\n        placeholder=\"Вид деятельности\"\r\n        type=\"text\"\r\n        name=\"about\"\r\n        autoComplete=\"off\"\r\n        value={job}\r\n        onChange={handleChangejob}\r\n      />\r\n      <span id=\"about-input-error\" className=\"popup__error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const inputRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n\r\n    inputRef.current.value = \"\";\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={\"avatar\"}\r\n      title={\"Обновить Аватар\"}\r\n      onClose={onClose}\r\n      isOpen={isOpen}\r\n      onSubmit={handleSubmit}\r\n      button=\"Сохранить\"\r\n    >\r\n      <input\r\n        required\r\n        id=\"avatar-input\"\r\n        className=\"popup__input popup__input_type_avatar\"\r\n        placeholder=\"Ссылка на фото\"\r\n        type=\"url\"\r\n        name=\"avatar\"\r\n        autoComplete=\"off\"\r\n        ref={inputRef}\r\n      />\r\n      <span id=\"avatar-input-error\" className=\"popup__error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = React.useState();\r\n  const [link, setLink] = React.useState();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  }\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={\"add\"}\r\n      title={\"Добавить карточку\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      button=\"Сохранить\"\r\n    >\r\n      <input\r\n        required\r\n        minLength={2}\r\n        maxLength={30}\r\n        id=\"title-input\"\r\n        className=\"popup__input popup__input_type_title\"\r\n        type=\"text\"\r\n        placeholder=\"Название\"\r\n        name=\"name\"\r\n        autoComplete=\"off\"\r\n        value={name}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span id=\"title-input-error\" className=\"popup__error\" />\r\n      <input\r\n        required\r\n        id=\"url-input\"\r\n        className=\"popup__input popup__input_type_url\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        name=\"link\"\r\n        autoComplete=\"off\"\r\n        value={link}\r\n        onChange={handleChangeLink}\r\n      />\r\n      <span id=\"url-input-error\" className=\"popup__error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport Header from \"./Header.js\";\r\nimport Main from \"./Main.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport { api } from \"../utils/api.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\r\nimport AddPlacePopup from \"./AddPlacePopup.js\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [selectedCard, setSelectedCard] = React.useState();\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((userData) => {\r\n        setCurrentUser(userData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Ошибка\", err);\r\n      });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((cards) => {\r\n        setCards(cards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Ошибка\", err);\r\n      });\r\n  }, []);\r\n\r\n  function handleUpdateUser(data) {\r\n    api\r\n      .setUserInfo(data)\r\n      .then((userData) => {\r\n        setCurrentUser(userData);\r\n        closeAllPopup();\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Ошибка\", err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api\r\n      .updateAvatar(data)\r\n      .then((userData) => {\r\n        setCurrentUser(userData);\r\n        closeAllPopup();\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Ошибка\", err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api\r\n      .getCreateCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopup();\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Ошибка\", err);\r\n      });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Ошибка\", err);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Ошибка\", err);\r\n      });\r\n  }\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlacePopupOpen = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleEditAvatarPopupOpen = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  };\r\n\r\n  const closeAllPopup = () => {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard();\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main\r\n          onEditAvatar={handleEditAvatarPopupOpen}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlacePopupOpen}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n        />\r\n        <Footer />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopup}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopup}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopup}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopup}></ImagePopup>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}